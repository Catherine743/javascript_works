<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-[url('./images/Bank_bg_img.jpg')] bg-cover bg-center h-screen text-white">
    <div class="flex justify-between w-full bg-blue-500 px-5 lg:h-[50px] md:h-[50px] items-center text-lg">
        <div class="lg:space-x-10 md:space-x-10 space-x-6 lg:w-1/3 md:w-2/3 md:text-right lg:text-center">
            <a href="">Home</a>
            <a href="">Features</a>
            <a href="">Pricing</a>
            <a href="">About</a>
        </div>
        <div class="lg:space-x-20 md:space-x-10 space-x-1 lg:w-1/3 md:w-2/3 md:text-right">
            <a href="">Contact</a>
            <button onclick="logout()">Logout</button>
        </div>
    </div>
    <div class="flex justify-center py-10">
        <div class="w-3/4 h-[150px] flex items-center justify-center bg-black/50 shadow-lg shadow-white rounded-lg">
            <div class="text-center space-y-5">
                <h2 class="text-3xl font-semibold">Welcome User</h2>
                <h3 class="text-2xl font-semibold">Online Banking Services</h3>
            </div>
        </div>
    </div>
    <div class="lg:flex-row lg:justify-between md:flex-row md:justify-between flex flex-col w-3/4 mx-auto gap-x-10 space-y-5 lg:space-y-0 md:space-y-0">
        <div class="lg:w-1/2 md:w-1/2 w-full text-center bg-black/50 space-y-5 p-5 shadow-lg shadow-white rounded-lg">
            <h2 class="text-3xl italic">Deposit</h2>
            <div>
                <input type="text" class="bg-white p-2 text-gray-900 lg:w-3/4 w-full rounded-lg text-sm md:text-md lg:text-md" placeholder="Enter your amount"
                    id="depAmount">
            </div>
            <div>
                <input type="text" class="bg-white p-2 text-gray-900 lg:w-3/4 w-full rounded-lg text-sm md:text-md lg:text-md"
                    placeholder="Enter your account number" id="depAccNo">
            </div>
            <button class="lg:w-1/3 md:w-1/3 bg-blue-500 p-2 rounded-full w-1/2" onclick="depositBtn()">Deposit</button>
            <div id="deposit"></div>
        </div>
        <div class="lg:w-1/2 md:w-1/2 w-full text-center bg-black/50 space-y-5 p-5 shadow-lg shadow-white rounded-lg">
            <h2 class="text-3xl italic">Withdraw</h2>
            <div>
                <input type="text" class="bg-white p-2 text-gray-900 lg:w-3/4 w-full rounded-lg text-sm lg:text-md md:text-md" placeholder="Enter your amount"
                    id="withAmount">
            </div>
            <div>
                <input type="text" class="bg-white p-2 text-gray-900 lg:w-3/4 w-full rounded-lg text-sm lg:text-md md:text-md"
                    placeholder="Enter your account number" id="withAccNo">
            </div>
            <button class="lg:w-1/3 md:w-1/3 w-1/2 bg-blue-500 p-2 rounded-full" onclick="withdrawBtn()">Withdraw</button>
            <div id="withdrawal"></div>
        </div>
    </div>
</body>
<script>
    function depositBtn() {
        if (depAccNo.value == localStorage.getItem('ACCOUNT_NO')) {
            if (depAmount.value > 0) {
                amountNum = Number(depAmount.value);
                curBal = JSON.parse(localStorage.getItem('BALANCE')); // Number(localStorage.getItem('BALANCE')) || 0
                sum = curBal + amountNum;
                localStorage.setItem('BALANCE', sum);
                alert(`Successfully deposited: ${amountNum}`);
                withdrawal.innerHTML = '';
                deposit.innerHTML = `
                <h3 class="text-2xl font-semibold"> Current Balance : ${sum} </h3>
                `
            }
            else if (depAmount.value == 0) {
                alert("Please enter a valid amount")
            }
        }
        else if (!depAccNo.value || !depAmount.value) {
            alert("Please fill all the fields")
        }
        else if (depAccNo.value != localStorage.getItem('ACCOUNT_NO')) {
            alert("Invalid account number")
        }
    }
    function withdrawBtn() {
        if (withAccNo.value == localStorage.getItem('ACCOUNT_NO')) {
            if (withAmount.value > 0) {
                amountNum = Number(withAmount.value);
                curBal = JSON.parse(localStorage.getItem('BALANCE'));
                if (curBal >= amountNum) {
                    newBal = curBal - amountNum;
                    localStorage.setItem('BALANCE', newBal);
                    alert(`Successfully withdrawn: ${amountNum}`);
                    deposit.innerHTML = '';
                    withdrawal.innerHTML = `
                    <h3 class="text-2xl font-semibold"> Current Balance : ${newBal} </h3>
                    `
                }
                else {
                    alert("Insufficient balance")
                }
            }
            else if (withAmount.value == 0) {
                alert("Please enter a valid amount")
            }
        }
        else if (!withAccNo.value || !withAmount.value) {
            alert("Please fill all the fields")
        }
        else if (withAccNo.value != localStorage.getItem('ACCOUNT_NO')) {
            alert("Invalid account number")
        }
    }
    function logout() {
        localStorage.clear();
        window.location = './index.html'
    }
</script>

</html>